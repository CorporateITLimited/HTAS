@model HoldingTaxWebApp.ViewModels.Plots.OldPlotOwnerCombineVM
@{
    ViewBag.Title = "Create";
}

@section Sheets{
    <link href="~/Content/wizard-holding.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/dropzone.css" rel="stylesheet" />
    <style>
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .line {
            display: inline-block;
        }

        span.error {
            display: block;
            visibility: hidden;
            color: red;
            font-size: 90%;
        }

        tr.error {
            background-color: rgba(255,0,0,0.35);
        }
    </style>

    <style>
        .wizard.wizard-4 .wizard-nav .wizard-steps .wizard-step {
            -ms-flex: 0 0 calc(100% - 1rem);
            flex: 0 0 calc(100% - 1rem);
            width: calc(100% - 1rem);
            justify-content: flex-start;
        }

            .wizard.wizard-4 .wizard-nav .wizard-steps .wizard-step .wizard-wrapper {
                padding: 1.5rem 1rem;
                flex-wrap: nowrap;
                align-items: stretch;
            }

        .wizard-label {
            padding: 5px;
            flex-wrap: nowrap;
            align-items: stretch;
        }
    </style>
}


<div class="subheader py-2 py-lg-6 subheader-transparent" id="kt_subheader">
    <div class="container d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap">
        <div class="d-flex align-items-center flex-wrap mr-1">
            <div class="d-flex align-items-baseline flex-wrap mr-5">
                <h5 class="text-dark font-weight-bold my-1 mr-5">জমি মালিকানা হস্তান্তর বিবরন ফর্ম </h5>
                <ul class="breadcrumb breadcrumb-transparent breadcrumb-dot font-weight-bold p-0 my-2 font-size-sm">
                    <li class="breadcrumb-item text-muted">
                        <a href="#" class="text-muted"> জমি মালিকানা হস্তান্তর বিবরন </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="d-flex align-items-center">
            <a onclick="return goBack();" class="btn btn-light-primary font-weight-bolder btn-sm"><i class="fas fa-arrow-left"></i>আগের পেজে যান</a>
        </div>
    </div>
</div>

<div class="d-flex flex-column-fluid">
    <!--begin::Container-->
    <div class="container">
        <div class="card card-custom card-transparent">
            <div class="card-body p-0">
                <!--begin: Wizard-->
                <div class="wizard wizard-4" id="kt_wizard" data-wizard-state="step-first" data-wizard-clickable="true">
                    <!--begin: Wizard Nav-->
                    <div class="wizard-nav">
                        <div class="wizard-steps">
                            <!--begin::Wizard Step 1 Nav-->
                            <div class="wizard-step" data-wizard-type="step" data-wizard-state="current">
                                <div class="wizard-wrapper">
                                    <div class="wizard-number">১</div>
                                    <div class="wizard-label">
                                        <div class="wizard-title">জমি মালিকানা হস্তান্তর বিবরন</div>
                                    </div>
                                </div>
                            </div>
                            <!--end::Wizard Step 1 Nav-->

                        </div>
                        <!--end: Wizard Nav-->
                        <!--begin: Wizard Body-->
                        <div class="card card-custom card-shadowless rounded-top-0">
                            <div class="card-body p-0">
                                <div class="row justify-content-center py-8 px-8 py-lg-15 px-lg-10">
                                    <div class="col-xl-12 col-md-12 col-sm-12">
                                        <span id="details_error" style="color:red;"></span>
                                        <!--begin: Wizard Form-->
                                        <form class="form mt-0 mt-lg-10" id="kt_form" enctype="multipart/form-data" method="post" action="/PlotOwner/AddOrUpdate">
                                            <!--begin: Wizard Step 1-->
                                            <div class="pb-5" data-wizard-type="step-content" data-wizard-state="current">
                                                <div class="mb-10 font-weight-bold text-dark" style="font-weight:500; font-size: 20px;">জমি মালিকানা ও জমি হস্তান্তর তথ্য</div>
                                                <div class="form-group row m-2">
                                                    @Html.HiddenFor(model => model.PlotOwnerId)
                                                    @Html.LabelFor(model => model.PlotId, "প্লট নং", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                    <div class="col-lg-4">
                                                        @Html.DropDownListFor(model => model.PlotId, null, "-- নির্বাচন করুন --", new
                                                   {
                                                       @class = "form-control",
                                                       @name = "PlotId",
                                                       @id = "PlotId"
                                                   })
                                                        @Html.ValidationMessageFor(model => model.PlotId, "", new { @class = "text-danger" })
                                                    </div>

                                                    @Html.LabelFor(model => model.PlotOwnerName, "বর্তমান প্লট মালিকের নাম", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                    <div class="col-lg-4">
                                                        @Html.EditorFor(model => model.PlotOwnerName, new { htmlAttributes = new { @class = "form-control", placeholder = "" } })
                                                        @Html.ValidationMessageFor(model => model.PlotOwnerName, "", new { @class = "text-danger" })


                                                    </div>

                                                </div>

                                            </div>


                                            <div class="form-group row m-2">


                                                @Html.LabelFor(model => model.RankId, "র‍্যাংক", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                <div class="col-lg-4">
                                                    @Html.DropDownListFor(model => model.RankId, null, "-- নির্বাচন করুন --", new
                                               {
                                                   @class = "form-control",
                                                   @name = "RankId",
                                                   @id = "RankId"
                                               })

                                                </div>



                                                @Html.LabelFor(model => model.OfficialStatusId, "সামরিক / বেসামরিক", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                <div class="col-lg-4">
                                                    @Html.DropDownListFor(model => model.OfficialStatusId, null, "-- নির্বাচন করুন --", new
                                               {
                                                   @class = "form-control",
                                                   @name = "OfficialStatusId",
                                                   @id = "OfficialStatusId"
                                               })
                                                    @Html.ValidationMessageFor(model => model.OfficialStatusId, "", new { @class = "text-danger" })
                                                </div>

                                            </div>

                                            <div class="form-group row m-2">
                                                @Html.LabelFor(model => model.OldPlotOwnerName, "নুতুন প্লট মালিকের নাম", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                <div class="col-lg-4">
                                                    @Html.EditorFor(model => model.OldPlotOwnerName, new { htmlAttributes = new { @class = "form-control", placeholder = "" } })
                                                    @Html.ValidationMessageFor(model => model.OldPlotOwnerName, "", new { @class = "text-danger" })


                                                </div>

                                                @Html.LabelFor(model => model.PresentAdd, "নুতুন প্লট মালিকের বর্তমান ঠিকানা", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                <div class="col-lg-4">
                                                    @Html.EditorFor(model => model.PresentAdd, new { htmlAttributes = new { @class = "form-control", placeholder = "" } })
                                                </div>
                                            </div>

                                            <div class="form-group row m-2">
                                                @Html.LabelFor(model => model.PermanentAdd, "নুতুন প্লট মালিকের স্থায়ী ঠিকানা", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                <div class="col-lg-4">
                                                    @Html.EditorFor(model => model.PermanentAdd, new { htmlAttributes = new { @class = "form-control", placeholder = "" } })
                                                </div>

                                                @Html.LabelFor(model => model.PhoneNumber, "নুতুন প্লট মালিকের ফোন", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                <div class="col-lg-4">
                                                    @Html.EditorFor(model => model.PhoneNumber, new { htmlAttributes = new { @class = "form-control", placeholder = "" } })
                                                </div>
                                            </div>

                                            <div class="form-group row m-2">
                                                @Html.LabelFor(model => model.Email, "নুতুন প্লট মালিকের ই-মেইল", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                <div class="col-lg-4">
                                                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", placeholder = "" } })
                                                </div>

                                                @Html.LabelFor(model => model.IsAlive, "নুতুন প্লট মালিকের বর্তমান অবস্থা", htmlAttributes: new { @class = "col-lg-2 col-form-label text-lg-right" })
                                                <div class="col-lg-4">
                                                    <select class="form-control" id="IsAlive" name="IsAlive">
                                                        <option value="">নির্বাচন করুন</option>
                                                        <option value="1">জীবিত</option>
                                                        <option value="0">মৃত</option>
                                                    </select>
                                                </div>

                                            </div>



                                            <div class="mt-2">
                                                <table class="table table-bordered table-hover table-sm" id="tableOther">
                                                    <thead class="thead-light">
                                                        <tr><th COLSPAN="4" style="text-align:center"><h1>যৌথ মালিকানার ক্ষেত্রে অন্য সব মালিকদের তথ্য</h1></th></tr>

                                                        <tr>

                                                            <th>অন্য মালিকের নাম</th>

                                                            <th>ঠিকানা</th>

                                                            <th>মন্তব্য</th>

                                                            <th><span class="btn btn-icon btn-light btn-hover-primary btn-sm mx-3 addOthersOwner" id="addOthersOwner" name="addOthersOwner" onclick="addRow()"><i class="fas fa-plus"></i></span></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>





                                            <!--end: Wizard Step 1-->
                                            <!--begin: Wizard Actions-->
                                            <div class="d-flex justify-content-between border-top mt-5 pt-10">
                                                <div class="mr-2">
                                                    @*<button type="button" class="btn btn-light-primary font-weight-bolder text-uppercase px-9 py-4" data-wizard-type="action-prev"><i class="fas fa-chevron-left"></i>&nbsp;পূর্ববর্তী ধাপ</button>*@
                                                </div>
                                                <div>
                                                    <button type="button" class="btn btn-success font-weight-bolder text-uppercase px-9 py-4" data-wizard-type="action-submit">সাবমিট করুন</button>
                                                    <button type="button" class="btn btn-primary font-weight-bolder text-uppercase px-9 py-4" data-wizard-type="action-next">পরবর্তী ধাপ &nbsp;<i class="fas fa-chevron-right"></i></button>
                                                </div>
                                            </div>
                                            <!--end: Wizard Actions-->
                                        </form>
                                        <!--end: Wizard Form-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--end: Wizard Bpdy-->
                    </div>
                    <!--end: Wizard-->
                </div>
            </div>
        </div>
        <!--end::Container-->
    </div>
</div>

@section Scripts {


    <script src="~/Scripts/dropzone.js"></script>

    @*save funtionality implemented in this js*@
    <script src="~/Scripts/wizard-OldPlotOwnerCreate.js"></script>

    <script>
        function addRow() {
            debugger;
            var otherOwnerTableBody = $('#tableOther tbody');
            otherOwnerTableBody.append('<tr>' +
                '<td><input type="text" class="form-control OldOthetOwneeName" name="OldOthetOwneeName" /></td>' +
                '<td><input type="text" class="form-control Address" name="Address" /></td>' +
                '<td><input type="text" class="form-control Remarks" name="Remarks" /></td>' +
                '<td><button class="remove btn btn-icon btn-light btn-hover-danger btn-sm mx-3" id="remove_old_details"><i class="fas fa-minus"></i></button></td></tr>');
        }
        //remove btn btn-danger btn-sm
    </script>
    <script>
         jQuery(document).ready(function () {


    $('#PlotId').select2({
        placeholder: "--নির্বাচন করুন--",
        allowClear: true
    });


    $('#OfficialStatusId').select2({
        placeholder: "--নির্বাচন করুন--",
        allowClear: true
    });

   $('#IsAlive').select2({
       placeholder: "--নির্বাচন করুন--",
        allowClear: true
             });

             $('#RankId').select2({
        placeholder: "--নির্বাচন করুন--",
        allowClear: true
    });

             
   // autosize($('#PresentAdd'));
   // autosize($('#PermanentAdd'));
   // autosize($('#ContactAdd'));



    $('#tableOther tbody').on('click', '.remove', function (e) {
        e.preventDefault();
        $(this).parents('tr').css("background-color", "red").fadeOut(1000, function () {
            $(this).remove();
        });
    });


          $('#PlotId').change(function () {
                var PlotId = parseInt($('#PlotId option:selected').val()) || 0;
                 var json = {
                    PlotId: PlotId
                };
        debugger;
                   $.ajax({
                    url: '@Url.Action("GetData", "OldPlotOwner")',
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(json),
                    success: function (data) {
                        $("#PlotOwnerName").val(data.PlotOwnerNamecon);
                        $("#PlotOwnerId").val(data.PlotOwnerId);
                    },
                    error: function () {
                        alert('error count');
                    }
                });
            });








        });


    </script>
}


